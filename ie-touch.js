/*! Copyright (c) Andrea Giammarchi - MIT License */
(function(d,p,l){if(!((l=!!d.pointerEnabled)||d.msPointerEnabled)||"ontouchend" in p){return}var h=(l?"":"MS")+"POINTER_TYPE_MOUSE",s="addEventListener",b="removeEventListener",x=Element.prototype,v=Object.defineProperties,g=Object.defineProperty,f=function(E){var D=E.toLowerCase(),C="MS"+E;c[C]=c[D];return l?D:C},t=function(C){return{value:function(){B[C].call(this);this._[C]()}}},q=function(C){var D="_on"+C;return{enumerable:true,configurable:true,get:function(){return this[D]||null},set:function(E){if(this[D]){this[b](C,this[D])}this[D]=E;if(E){this[s](C,E)}}}},u=function(E,C){var D=E[C];g(E,C,{configurable:true,value:function(H,G,F){if(H in k){D.call(H==="touchstart"?this:p,k[H],i,F)}D.call(this,H,G,F)}})},r=function(C){return{get:function(){return this._[C]}}},j=function(C){return function(E){var D=E.pointerId,F=m[D];delete m[D];a(C,E,F);delete e[D]}},a=function(C,D,F){var E=p.createEvent("Event");E.initEvent(C,true,true);A.value=D;z.currentTarget.value=F.currentTarget;v(E,z);F.currentTarget.dispatchEvent(E)},y=function(E,D){function F(G){return D[G]}return function C(){A.value=Object.keys(D).map(F);return g(this,E,A)[E]}},o=function(D){var C=D.pointerType;return(C===D[h]||C==="mouse")?"mouse":"touch"},A={value:null},m=Object.create(null),e=Object.create(null),B=p.createEvent("Event"),z={_:A,touches:{configurable:true,get:y("touches",m)},changedTouches:{configurable:true,get:y("changedTouches",e)},currentTarget:{value:null},relatedTarget:r("relatedTarget"),target:r("target"),altKey:r("altKey"),metaKey:r("metaKey"),ctrlKey:r("ctrlKey"),shiftKey:r("shiftKey"),preventDefault:t("preventDefault"),stopPropagation:t("stopPropagation"),stopImmediatePropagation:t("stopImmediatePropagation")},k=Object.create(null),i=function(C){if(o(C)==="touch"){c[C.type](C)}},c={pointerdown:function(D){var E=new n(D),C=D.pointerId;e[C]=m[C]=E;a("touchstart",D,E)},pointermove:function(D){var C=D.pointerId,E=m[C];E._=D;a("touchmove",D,E);e[C]._=D},pointerup:j("touchend"),pointercancel:j("touchcancel")},w={ontouchstart:q("touchstart"),ontouchmove:q("touchmove"),ontouchend:q("touchend"),ontouchcancel:q("touchcancel")};function n(C){this._=C;this.currentTarget=C.currentTarget}v(n.prototype,{identifier:r("pointerId"),target:r("target"),screenX:r("screenX"),screenY:r("screenY"),clientX:r("clientX"),clientY:r("clientY"),pageX:r("pageX"),pageY:r("pageY")});k.touchstart=f("PointerDown");k.touchmove=f("PointerMove");k.touchend=f("PointerUp");k.touchcancel=f("PointerCancel");u(p,s);u(p,b);u(x,s);u(x,b);v(p,w);v(x,w)}(navigator,document));