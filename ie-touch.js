/*! Copyright (c) Andrea Giammarchi - MIT License */
(function(d,p,l){if(!((l=!!d.pointerEnabled)||d.msPointerEnabled)||"ontouchend" in p){return}var h=(l?"":"MS")+"POINTER_TYPE_MOUSE",s="addEventListener",b="removeEventListener",y=Element.prototype,v=Object.defineProperties,g=Object.defineProperty,f=function(F){var E=F.toLowerCase(),D="MS"+F;c[D]=c[E];return l?E:D},t=function(D){return{value:function(){C[D].call(this);this._[D]()}}},q=function(D){var E="_on"+D;return{enumerable:true,configurable:true,get:function(){return this[E]||null},set:function(F){if(this[E]){this[b](D,this[E])}this[E]=F;if(F){this[s](D,F)}}}},u=function(F,D){var E=F[D];g(F,D,{configurable:true,value:function(I,H,G){if(I in k){E.call(I==="touchstart"?this:p,k[I],i,G)}E.call(this,I,H,G)}})},r=function(D){return{get:function(){return this._[D]}}},j=function(D){return function(F){var E=F.pointerId,G=m[E];delete m[E];a(D,F,G);delete e[E]}},a=function(D,E,G){var F=p.createEvent("Event");F.initEvent(D,true,true);B.value=E;A.currentTarget.value=G.currentTarget;v(F,A);G.currentTarget.dispatchEvent(F)},z=function(F,E){function G(H){return E[H]}return function D(){B.value=Object.keys(E).map(G);return g(this,F,B)[F]}},o=function(E){var D=E.pointerType;return(D===E[h]||D==="mouse")?"mouse":"touch"},x=function(D){return this[D]},B={value:null},m=Object.create(null),e=Object.create(null),C=p.createEvent("Event"),A={_:B,touches:{configurable:true,get:z("touches",m)},changedTouches:{configurable:true,get:z("changedTouches",e)},currentTarget:{value:null},relatedTarget:r("relatedTarget"),target:r("target"),altKey:r("altKey"),metaKey:r("metaKey"),ctrlKey:r("ctrlKey"),shiftKey:r("shiftKey"),preventDefault:t("preventDefault"),stopPropagation:t("stopPropagation"),stopImmediatePropagation:t("stopImmediatePropagation")},k=Object.create(null),i=function(D){if(o(D)==="touch"){c[D.type](D)}},c={pointerdown:function(E){var F=new n(E),D=E.pointerId;e[D]=m[D]=F;a("touchstart",E,F)},pointermove:function(E){var D=E.pointerId,F=m[D];F._=E;a("touchmove",E,F);e[D]._=E},pointerup:j("touchend"),pointercancel:j("touchcancel")},w={ontouchstart:q("touchstart"),ontouchmove:q("touchmove"),ontouchend:q("touchend"),ontouchcancel:q("touchcancel")};function n(D){this._=D;this.currentTarget=D.currentTarget}v(n.prototype,{identifier:r("pointerId"),target:r("target"),screenX:r("screenX"),screenY:r("screenY"),clientX:r("clientX"),clientY:r("clientY"),pageX:r("pageX"),pageY:r("pageY")});k.touchstart=f("PointerDown");k.touchmove=f("PointerMove");k.touchend=f("PointerUp");k.touchcancel=f("PointerCancel");u(p,s);u(p,b);u(y,s);u(y,b);v(p,w);v(y,w)}(navigator,document));