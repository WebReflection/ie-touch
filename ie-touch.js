/*! Copyright (c) Andrea Giammarchi - MIT License */
(function(d,e,k){function r(a){this._=a;this.currentTarget=a.currentTarget}if(!(!(k=!!d.pointerEnabled)&&!d.msPointerEnabled||"ontouchend"in e)){var w=(k?"":"MS")+"POINTER_TYPE_MOUSE";d=function(a){return k?a.toLowerCase():"MS"+a};var p=function(a){return{value:function(){x[a].call(this);this._[a]()}}},l=function(a,f){var c=a[f];Object.defineProperty(a,f,{configurable:!0,value:function(a,f,b){a in g&&c.call("touchstart"===a?this:this.ownerDocument,g[a],s,b);c.call(this,a,f,b)}})},b=function(a){return{get:function(){return this._[a]}}},
t=function(a){return function(f){var b=f.pointerId,e=h[b];delete h[b];q(a,f,e);delete m[b]}},q=function(a,b,c){var d=e.createEvent("Event");d.initEvent(a,!0,!0);n.value=b;u.currentTarget.value=c.currentTarget;Object.defineProperties(d,u);c.currentTarget.dispatchEvent(d)},v=function(a,b){function c(a){return b[a]}return function(){n.value=Object.keys(b).map(c);return Object.defineProperty(this,a,n)[a]}},n={value:null},h=Object.create(null),m=Object.create(null),x=e.createEvent("Event"),u={_:n,touches:{configurable:!0,
get:v("touches",h)},changedTouches:{configurable:!0,get:v("changedTouches",m)},currentTarget:{value:null},relatedTarget:b("relatedTarget"),target:b("target"),altKey:b("altKey"),metaKey:b("metaKey"),ctrlKey:b("ctrlKey"),shiftKey:b("shiftKey"),preventDefault:p("preventDefault"),stopPropagation:p("stopPropagation"),stopImmediatePropagation:p("stopImmediatePropagation")},g=Object.create(null),s={_t:0,handleEvent:function(a){var b=a.pointerType;if("touch"===(b===a[w]||"mouse"===b?"mouse":"touch"))s[k?
a.type:a.type.slice(2).toLowerCase()](a)},pointerdown:function(a){var b=new r(a),c=a.pointerId;m[c]=h[c]=b;q("touchstart",a,b)},pointermove:function(a){var b=a.pointerId,c=h[b];c._=a;q("touchmove",a,c);m[b]._=a},pointerup:t("touchend"),pointercancel:t("touchcancel")};Object.defineProperties(r.prototype,{identifier:b("pointerId"),target:b("target"),screenX:b("screenX"),screenY:b("screenY"),clientX:b("clientX"),clientY:b("clientY"),pageX:b("pageX"),pageY:b("pageY")});g.touchstart=d("PointerDown");g.touchmove=
d("PointerMove");g.touchend=d("PointerUp");g.touchcancel=d("PointerCancel");l(e,"addEventListener");l(e,"removeEventListener");l(Element.prototype,"addEventListener");l(Element.prototype,"removeEventListener");e.ontouchstart=e.ontouchmove=e.ontouchend=e.ontouchcancel=null}})(navigator,document);